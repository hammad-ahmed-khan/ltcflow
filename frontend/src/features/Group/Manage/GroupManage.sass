// Updated GroupManage.sass - replace existing styles

.group-manage
  height: 100%
  background: #fff
  display: flex
  flex-direction: column

.group-manage-header
  box-shadow: 0 1px 3px rgba(0,0,0,0.1)
  flex-shrink: 0

// Group picture styling - fixed circular display
.group-picture-container
  position: relative
  
  .group-picture
    cursor: pointer
    transition: all 0.2s ease
    border: 2px solid #e0e0e0
    
    &:hover
      transform: scale(1.02)
      box-shadow: 0 4px 12px rgba(0,0,0,0.15)
      border-color: #ccc
    
    .picture-overlay
      pointer-events: none

// File input styling
input[type="file"]
  display: none

// Member and search result items
.member-item, .search-result-item
  transition: background-color 0.2s ease
  border-bottom: 1px solid #eee
  
  &:hover
    background: #f8f9fa !important
  
  &:last-child
    border-bottom: none

// User avatar styling - ensures circular images
.user-avatar
  border-radius: 50% !important
  overflow: hidden
  flex-shrink: 0
  
  img
    width: 100%
    height: 100%
    object-fit: cover
    border-radius: 50%
  
  .avatar-placeholder
    width: 100%
    height: 100%
    display: flex
    align-items: center
    justify-content: center
    background: #666
    color: #fff
    font-weight: 500
    border-radius: 50%

// Add members section
.add-members-section
  background: #f8f9fa
  border-bottom: 1px solid #eee
  
  .search-bar
    position: relative
    
    .icon
      position: absolute
      left: 12px
      top: 50%
      transform: translateY(-50%)
      color: #666
      z-index: 2
    
    .uk-input
      padding-left: 40px
      font-size: 14px
      border: 1px solid #ddd
      
      &:focus
        border-color: #557d53
        outline: none
        box-shadow: 0 0 0 2px rgba(85, 125, 83, 0.1)
      
      &::placeholder
        color: #999

// Members list container
.members-list
  flex: 1
  overflow-y: auto
  
  .section-title
    position: sticky
    top: 0
    background: #fff
    z-index: 10
    padding: 12px 16px
    border-bottom: 1px solid #eee
    font-weight: 600
    font-size: 14px
    color: #555

// Search results container
.search-results-container
  max-height: 300px
  overflow-y: auto
  
  // Custom scrollbar
  scrollbar-width: thin
  scrollbar-color: #ccc transparent
  
  &::-webkit-scrollbar
    width: 6px
    
  &::-webkit-scrollbar-track
    background: transparent
    
  &::-webkit-scrollbar-thumb
    background: #ccc
    border-radius: 3px
    
    &:hover
      background: #999

// Button styling improvements
.uk-button
  transition: all 0.2s ease
  
  &:focus
    outline: 2px solid #557d53
    outline-offset: 2px
  
  &.uk-button-danger
    &:hover:not([disabled])
      background: #dc3545
      border-color: #dc3545
  
  &.uk-button-primary
    &:hover:not([disabled])
      background: #4a6e48
      border-color: #4a6e48
  
  &[disabled]
    opacity: 0.6
    cursor: not-allowed

// Mobile responsive improvements
@media screen and (max-width: 699px)
  .group-manage
    .group-manage-header
      padding: 12px
      
      .group-picture-container
        .group-picture
          width: 60px !important
          height: 60px !important
          border-radius: 30px !important
          
          img, .avatar-placeholder
            width: 56px !important
            height: 56px !important
            border-radius: 28px !important
          
          .picture-overlay
            border-radius: 30px !important
      
      .uk-flex
        gap: 8px !important
        
      .uk-button
        padding: 6px 8px !important
        font-size: 12px
        
        span
          display: none // Hide button text on mobile
  
  .member-item
    padding: 10px 12px !important
    
    .user-avatar
      width: 36px !important
      height: 36px !important
    
    .uk-button
      padding: 4px 6px !important
      margin-left: 4px !important
      min-width: auto
  
  .add-members-section
    padding: 12px
    
    .search-bar
      height: 40px
      
    .search-result-item
      padding: 8px 12px !important
      
      .user-avatar
        width: 28px !important
        height: 28px !important
      
      .uk-button
        padding: 4px 6px !important

// Theme support
.theme.dark .group-manage
  background: #303841
  color: #fff
  
  .group-manage-header
    background: #303841
    border-color: #444
    box-shadow: 0 1px 3px rgba(0,0,0,0.3)
  
  .add-members-section
    background: #2a2f36
    border-color: #444
    
    .search-bar .uk-input
      background: #3a3f46
      border-color: #555
      color: #fff
      
      &::placeholder
        color: #aaa
  
  .members-list .section-title
    background: #303841
    border-color: #444
    color: #ddd
  
  .member-item, .search-result-item
    border-color: #444
    
    &:hover
      background: #3a3f46 !important

// Text truncation for responsive design
.member-info, .search-user-info
  min-width: 0
  flex: 1
  
  .name, .username
    white-space: nowrap
    overflow: hidden
    text-overflow: ellipsis

// Loading states
.loading-text
  font-size: 12px
  color: #666

// Group actions section
.group-actions
  padding: 16px
  border-top: 1px solid #eee
  background: #fff
  
  .theme.dark &
    background: #303841
    border-color: #444